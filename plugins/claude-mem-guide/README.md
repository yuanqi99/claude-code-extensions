# Claude-Mem 插件使用指南

[English](./README_EN.md)

`claude-mem` 是目前 Claude Code 社区中最热门的持久化记忆插件。它通过向量数据库（ChromaDB）记录你的所有操作，并允许 Claude 在未来的会话中通过语义搜索找回这些记忆。

## 核心功能

- **全自动记录**：无需干预，自动记录工具输出、总结和对话。
- **语义搜索**：Claude 可以理解你的意图并搜索相关的历史背景。
- **可视化界面**：在浏览器中通过 `localhost:37777` 查看你的记忆流。
- **Token 优化**：采用三层检索机制，仅在需要时加载详细内容，极大地节省 Token。

## 安装步骤（详细教学）

### 第一步：环境检查

在安装插件之前，请确保你的系统中已安装以下工具：
1. **Bun** (必需)：用于运行插件的后台 Worker。
   - 安装命令：`curl -fsSL https://bun.sh/install | bash`
2. **SQLite** (必需)：用于存储结构化数据。
3. **Claude Code**：确保你已安装并可以运行 `claude` 命令。

### 第二步：安装插件

在终端中运行以下命令：

```bash
# 添加插件到市场
/plugin marketplace add thedotmack/claude-mem

# 执行安装
/plugin install thedotmack/claude-mem
```

### 第三步：启动与配置

安装完成后，插件通常会自动启动后台服务。你可以通过以下方式验证：
- 打开浏览器访问 `http://localhost:37777`，如果能看到记忆流界面，说明启动成功。
- 如果未启动，可以尝试重启 Claude Code。

## 如何使用记忆功能？

安装成功后，Claude 会获得以下“超能力”：

1. **自动记忆**：你不需要做任何事，它会默默记录一切。
2. **主动搜索**：你可以对 Claude 说：
   - “搜索一下我上次是怎么解决那个 Auth 报错的。”
   - “帮我找找昨天关于数据库重构的讨论总结。”
3. **手动保存**：如果你有一段非常重要的信息想让它死记硬背，可以说：
   - “把这段 API 密钥的配置规则保存到长期记忆中。”

## 隐私与安全

- **隐私标签**：如果你不想让某段对话被记录，可以在消息中使用 `<private>` 标签。
- **本地存储**：所有的记忆都存储在你的本地 SQLite 和 ChromaDB 中，不会上传到云端。

## 常见问题排除

- **端口占用**：如果 37777 端口被占用，插件将无法启动。
- **依赖缺失**：如果看到 `bun` 相关错误，请检查 Bun 是否已正确加入系统 PATH。
